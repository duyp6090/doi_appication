--
-- PostgreSQL database dump
--

\restrict ipL3HwFBqiooUg8mauZGEIY4Rb8bWPBc03OmwJnJtIFL0481oltGgSGLIWodZni

-- Dumped from database version 17.6 (Debian 17.6-1.pgdg13+1)
-- Dumped by pg_dump version 17.6 (Debian 17.6-1.pgdg13+1)

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET transaction_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

--
-- Name: user_status; Type: TYPE; Schema: public; Owner: postgres
--

CREATE TYPE public.user_status AS ENUM (
    'ACTIVE',
    'INACTIVE',
    'BANNED'
);


ALTER TYPE public.user_status OWNER TO postgres;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- Name: tbl_bookings; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.tbl_bookings (
    id bigint NOT NULL,
    created_by bigint,
    updated_by bigint,
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    updated_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    customer_id bigint NOT NULL,
    car_id bigint NOT NULL,
    start_time timestamp without time zone NOT NULL,
    end_time timestamp without time zone NOT NULL,
    total_price numeric(10,2) NOT NULL,
    status character varying(50) DEFAULT 'PENDING'::character varying
);


ALTER TABLE public.tbl_bookings OWNER TO postgres;

--
-- Name: tbl_bookings_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.tbl_bookings ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.tbl_bookings_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: tbl_cars; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.tbl_cars (
    id bigint NOT NULL,
    created_by bigint,
    updated_by bigint,
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    updated_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    owner_id bigint NOT NULL,
    brand character varying(50) NOT NULL,
    model character varying(50) NOT NULL,
    year integer NOT NULL,
    license_plate character varying(20) NOT NULL,
    price_per_hour numeric(10,2) NOT NULL,
    location_id bigint,
    images jsonb
);


ALTER TABLE public.tbl_cars OWNER TO postgres;

--
-- Name: tbl_cars_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.tbl_cars ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.tbl_cars_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: tbl_group; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.tbl_group (
    id bigint NOT NULL,
    created_by bigint,
    updated_by bigint,
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    updated_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    name character varying(50) NOT NULL,
    description character varying(255),
    role_id bigint NOT NULL
);


ALTER TABLE public.tbl_group OWNER TO postgres;

--
-- Name: tbl_group_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.tbl_group ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.tbl_group_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: tbl_locations; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.tbl_locations (
    id bigint NOT NULL,
    created_by bigint,
    updated_by bigint,
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    updated_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    name character varying(100),
    province character varying(100),
    ward character varying(100),
    longitude double precision,
    latitude double precision
);


ALTER TABLE public.tbl_locations OWNER TO postgres;

--
-- Name: tbl_locations_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.tbl_locations ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.tbl_locations_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: tbl_otp; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.tbl_otp (
    id bigint NOT NULL,
    created_by bigint,
    updated_by bigint,
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    updated_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    email character varying(50) NOT NULL,
    otp_code character varying(10) NOT NULL,
    expired_at timestamp without time zone NOT NULL
);


ALTER TABLE public.tbl_otp OWNER TO postgres;

--
-- Name: tbl_otp_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.tbl_otp ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.tbl_otp_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: tbl_permission; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.tbl_permission (
    id bigint NOT NULL,
    created_by bigint,
    updated_by bigint,
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    updated_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    name character varying(50) NOT NULL
);


ALTER TABLE public.tbl_permission OWNER TO postgres;

--
-- Name: tbl_permission_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.tbl_permission ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.tbl_permission_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: tbl_reviews; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.tbl_reviews (
    id bigint NOT NULL,
    created_by bigint,
    updated_by bigint,
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    updated_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    booking_id bigint NOT NULL,
    rating integer,
    comment text,
    CONSTRAINT tbl_reviews_rating_check CHECK (((rating >= 1) AND (rating <= 5)))
);


ALTER TABLE public.tbl_reviews OWNER TO postgres;

--
-- Name: tbl_reviews_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.tbl_reviews ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.tbl_reviews_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: tbl_role; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.tbl_role (
    id bigint NOT NULL,
    created_by bigint,
    updated_by bigint,
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    updated_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    role_name character varying(50) NOT NULL
);


ALTER TABLE public.tbl_role OWNER TO postgres;

--
-- Name: tbl_role_has_permission; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.tbl_role_has_permission (
    id bigint NOT NULL,
    created_by bigint,
    updated_by bigint,
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    updated_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    role_id bigint NOT NULL,
    permission_id bigint NOT NULL
);


ALTER TABLE public.tbl_role_has_permission OWNER TO postgres;

--
-- Name: tbl_role_has_permission_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.tbl_role_has_permission ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.tbl_role_has_permission_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: tbl_role_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.tbl_role ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.tbl_role_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: tbl_token; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.tbl_token (
    id bigint NOT NULL,
    created_by bigint,
    updated_by bigint,
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    updated_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    access_token character varying(500) NOT NULL,
    refresh_token character varying(500) NOT NULL,
    user_name character varying(50) NOT NULL
);


ALTER TABLE public.tbl_token OWNER TO postgres;

--
-- Name: tbl_token_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.tbl_token ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.tbl_token_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: tbl_user; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.tbl_user (
    id bigint NOT NULL,
    created_by bigint,
    updated_by bigint,
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    updated_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    user_name character varying(50),
    email character varying(100),
    phone character varying(15),
    password character varying(255),
    birth_date date,
    status_user public.user_status DEFAULT 'ACTIVE'::public.user_status
);


ALTER TABLE public.tbl_user OWNER TO postgres;

--
-- Name: tbl_user_has_group; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.tbl_user_has_group (
    id bigint NOT NULL,
    created_by bigint,
    updated_by bigint,
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    updated_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    user_id bigint NOT NULL,
    group_id bigint NOT NULL
);


ALTER TABLE public.tbl_user_has_group OWNER TO postgres;

--
-- Name: tbl_user_has_group_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.tbl_user_has_group ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.tbl_user_has_group_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: tbl_user_has_role; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.tbl_user_has_role (
    id bigint NOT NULL,
    created_by bigint,
    updated_by bigint,
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    updated_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    user_id bigint NOT NULL,
    role_id bigint NOT NULL
);


ALTER TABLE public.tbl_user_has_role OWNER TO postgres;

--
-- Name: tbl_user_has_role_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.tbl_user_has_role ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.tbl_user_has_role_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: tbl_user_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.tbl_user ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.tbl_user_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Data for Name: tbl_bookings; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.tbl_bookings VALUES (1, NULL, NULL, '2025-10-08 15:09:36.516153', '2025-10-08 15:09:36.516153', 3, 1, '2025-10-01 08:00:00', '2025-10-01 12:00:00', 600000.00, 'COMPLETED');
INSERT INTO public.tbl_bookings VALUES (2, NULL, NULL, '2025-10-08 15:09:36.516153', '2025-10-08 15:09:36.516153', 4, 2, '2025-10-02 09:00:00', '2025-10-02 13:00:00', 800000.00, 'PENDING');


--
-- Data for Name: tbl_cars; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.tbl_cars VALUES (1, NULL, NULL, '2025-10-08 15:09:36.513691', '2025-10-08 15:09:36.513691', 2, 'Toyota', 'Vios', 2020, '51A-12345', 150000.00, 1, NULL);
INSERT INTO public.tbl_cars VALUES (2, NULL, NULL, '2025-10-08 15:09:36.513691', '2025-10-08 15:09:36.513691', 2, 'Honda', 'Civic', 2021, '51B-54321', 200000.00, 1, NULL);
INSERT INTO public.tbl_cars VALUES (3, NULL, NULL, '2025-10-08 15:09:36.513691', '2025-10-08 15:09:36.513691', 4, 'Ford', 'Focus', 2019, '30A-67890', 180000.00, 2, NULL);


--
-- Data for Name: tbl_group; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.tbl_group VALUES (1, 1, 1, '2025-10-08 15:09:36.503614', '2025-10-08 15:09:36.503614', 'Admins Group', 'Group for administrators', 1);
INSERT INTO public.tbl_group VALUES (2, 1, 1, '2025-10-08 15:09:36.503614', '2025-10-08 15:09:36.503614', 'Users Group', 'Group for regular users', 2);
INSERT INTO public.tbl_group VALUES (3, 1, 1, '2025-10-08 15:09:36.503614', '2025-10-08 15:09:36.503614', 'Owners Group', 'Group for owners', 3);


--
-- Data for Name: tbl_locations; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.tbl_locations VALUES (1, NULL, NULL, '2025-10-08 15:09:36.511852', '2025-10-08 15:09:36.511852', 'TP HCM - Q1', 'TP HCM', 'Bến Nghé', 106.7009, 10.7769);
INSERT INTO public.tbl_locations VALUES (2, NULL, NULL, '2025-10-08 15:09:36.511852', '2025-10-08 15:09:36.511852', 'Hà Nội - Hoàn Kiếm', 'Hà Nội', 'Hàng Trống', 105.8522, 21.0285);
INSERT INTO public.tbl_locations VALUES (3, NULL, NULL, '2025-10-08 15:09:36.511852', '2025-10-08 15:09:36.511852', 'Đà Nẵng - Hải Châu', 'Đà Nẵng', 'Thạch Thang', 108.2208, 16.0678);


--
-- Data for Name: tbl_otp; Type: TABLE DATA; Schema: public; Owner: postgres
--



--
-- Data for Name: tbl_permission; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.tbl_permission VALUES (1, NULL, NULL, '2025-10-08 15:09:36.501834', '2025-10-08 15:09:36.501834', 'read');
INSERT INTO public.tbl_permission VALUES (2, NULL, NULL, '2025-10-08 15:09:36.501834', '2025-10-08 15:09:36.501834', 'create');
INSERT INTO public.tbl_permission VALUES (3, NULL, NULL, '2025-10-08 15:09:36.501834', '2025-10-08 15:09:36.501834', 'update');
INSERT INTO public.tbl_permission VALUES (4, NULL, NULL, '2025-10-08 15:09:36.501834', '2025-10-08 15:09:36.501834', 'delete');
INSERT INTO public.tbl_permission VALUES (5, NULL, NULL, '2025-10-08 15:09:36.501834', '2025-10-08 15:09:36.501834', 'manage');


--
-- Data for Name: tbl_reviews; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.tbl_reviews VALUES (1, NULL, NULL, '2025-10-08 15:09:36.518312', '2025-10-08 15:09:36.518312', 1, 5, 'Xe sạch, chủ xe thân thiện!');
INSERT INTO public.tbl_reviews VALUES (2, NULL, NULL, '2025-10-08 15:09:36.518312', '2025-10-08 15:09:36.518312', 2, 4, 'Ổn, nhưng hơi trễ giờ nhận xe.');


--
-- Data for Name: tbl_role; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.tbl_role VALUES (1, NULL, NULL, '2025-10-08 15:09:36.4996', '2025-10-08 15:09:36.4996', 'ADMIN');
INSERT INTO public.tbl_role VALUES (2, NULL, NULL, '2025-10-08 15:09:36.4996', '2025-10-08 15:09:36.4996', 'OWNER');
INSERT INTO public.tbl_role VALUES (3, NULL, NULL, '2025-10-08 15:09:36.4996', '2025-10-08 15:09:36.4996', 'CUSTOMER');


--
-- Data for Name: tbl_role_has_permission; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.tbl_role_has_permission VALUES (1, 1, 1, '2025-10-08 15:09:36.50588', '2025-10-08 15:09:36.50588', 1, 1);
INSERT INTO public.tbl_role_has_permission VALUES (2, 1, 1, '2025-10-08 15:09:36.50588', '2025-10-08 15:09:36.50588', 1, 2);
INSERT INTO public.tbl_role_has_permission VALUES (3, 1, 1, '2025-10-08 15:09:36.50588', '2025-10-08 15:09:36.50588', 1, 3);
INSERT INTO public.tbl_role_has_permission VALUES (4, 1, 1, '2025-10-08 15:09:36.50588', '2025-10-08 15:09:36.50588', 1, 4);
INSERT INTO public.tbl_role_has_permission VALUES (5, 1, 1, '2025-10-08 15:09:36.50588', '2025-10-08 15:09:36.50588', 1, 5);
INSERT INTO public.tbl_role_has_permission VALUES (6, 1, 1, '2025-10-08 15:09:36.50588', '2025-10-08 15:09:36.50588', 2, 1);
INSERT INTO public.tbl_role_has_permission VALUES (7, 1, 1, '2025-10-08 15:09:36.50588', '2025-10-08 15:09:36.50588', 2, 2);
INSERT INTO public.tbl_role_has_permission VALUES (8, 1, 1, '2025-10-08 15:09:36.50588', '2025-10-08 15:09:36.50588', 2, 3);
INSERT INTO public.tbl_role_has_permission VALUES (9, 1, 1, '2025-10-08 15:09:36.50588', '2025-10-08 15:09:36.50588', 3, 1);
INSERT INTO public.tbl_role_has_permission VALUES (10, 1, 1, '2025-10-08 15:09:36.50588', '2025-10-08 15:09:36.50588', 3, 2);
INSERT INTO public.tbl_role_has_permission VALUES (11, 1, 1, '2025-10-08 15:09:36.50588', '2025-10-08 15:09:36.50588', 3, 3);
INSERT INTO public.tbl_role_has_permission VALUES (12, 1, 1, '2025-10-08 15:09:36.50588', '2025-10-08 15:09:36.50588', 3, 4);


--
-- Data for Name: tbl_token; Type: TABLE DATA; Schema: public; Owner: postgres
--



--
-- Data for Name: tbl_user; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.tbl_user VALUES (1, NULL, NULL, '2025-10-08 15:09:36.496242', '2025-10-08 15:09:36.496242', 'alice', 'alice@example.com', '0901234567', '$2a$12$OEPa0SB283aEybkXpEKy9OGnBfryqKU8N.p7ZLa/vZNFWhKyOrQ2i', '1998-05-12', 'ACTIVE');
INSERT INTO public.tbl_user VALUES (2, NULL, NULL, '2025-10-08 15:09:36.496242', '2025-10-08 15:09:36.496242', 'bob', 'bob@example.com', '0902234567', '$2a$12$OEPa0SB283aEybkXpEKy9OGnBfryqKU8N.p7ZLa/vZNFWhKyOrQ2i', '1995-09-20', 'ACTIVE');
INSERT INTO public.tbl_user VALUES (3, NULL, NULL, '2025-10-08 15:09:36.496242', '2025-10-08 15:09:36.496242', 'carol', 'carol@example.com', '0903234567', '$2a$12$OEPa0SB283aEybkXpEKy9OGnBfryqKU8N.p7ZLa/vZNFWhKyOrQ2i', '2000-02-18', 'INACTIVE');
INSERT INTO public.tbl_user VALUES (4, NULL, NULL, '2025-10-08 15:09:36.496242', '2025-10-08 15:09:36.496242', 'david', 'david@example.com', '0904234567', '$2a$12$OEPa0SB283aEybkXpEKy9OGnBfryqKU8N.p7ZLa/vZNFWhKyOrQ2i', '1992-11-01', 'ACTIVE');


--
-- Data for Name: tbl_user_has_group; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.tbl_user_has_group VALUES (1, 1, 1, '2025-10-08 15:09:36.508096', '2025-10-08 15:09:36.508096', 1, 1);
INSERT INTO public.tbl_user_has_group VALUES (2, 1, 1, '2025-10-08 15:09:36.508096', '2025-10-08 15:09:36.508096', 2, 2);
INSERT INTO public.tbl_user_has_group VALUES (3, 1, 1, '2025-10-08 15:09:36.508096', '2025-10-08 15:09:36.508096', 3, 3);
INSERT INTO public.tbl_user_has_group VALUES (4, 1, 1, '2025-10-08 15:09:36.508096', '2025-10-08 15:09:36.508096', 4, 2);


--
-- Data for Name: tbl_user_has_role; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.tbl_user_has_role VALUES (1, 1, 1, '2025-10-08 15:09:36.510147', '2025-10-08 15:09:36.510147', 1, 1);
INSERT INTO public.tbl_user_has_role VALUES (2, 1, 1, '2025-10-08 15:09:36.510147', '2025-10-08 15:09:36.510147', 2, 2);
INSERT INTO public.tbl_user_has_role VALUES (3, 1, 1, '2025-10-08 15:09:36.510147', '2025-10-08 15:09:36.510147', 3, 3);
INSERT INTO public.tbl_user_has_role VALUES (4, 1, 1, '2025-10-08 15:09:36.510147', '2025-10-08 15:09:36.510147', 4, 2);


--
-- Name: tbl_bookings_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.tbl_bookings_id_seq', 2, true);


--
-- Name: tbl_cars_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.tbl_cars_id_seq', 3, true);


--
-- Name: tbl_group_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.tbl_group_id_seq', 3, true);


--
-- Name: tbl_locations_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.tbl_locations_id_seq', 3, true);


--
-- Name: tbl_otp_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.tbl_otp_id_seq', 1, false);


--
-- Name: tbl_permission_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.tbl_permission_id_seq', 5, true);


--
-- Name: tbl_reviews_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.tbl_reviews_id_seq', 2, true);


--
-- Name: tbl_role_has_permission_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.tbl_role_has_permission_id_seq', 12, true);


--
-- Name: tbl_role_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.tbl_role_id_seq', 3, true);


--
-- Name: tbl_token_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.tbl_token_id_seq', 1, false);


--
-- Name: tbl_user_has_group_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.tbl_user_has_group_id_seq', 4, true);


--
-- Name: tbl_user_has_role_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.tbl_user_has_role_id_seq', 4, true);


--
-- Name: tbl_user_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.tbl_user_id_seq', 4, true);


--
-- Name: tbl_bookings tbl_bookings_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.tbl_bookings
    ADD CONSTRAINT tbl_bookings_pkey PRIMARY KEY (id);


--
-- Name: tbl_cars tbl_cars_license_plate_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.tbl_cars
    ADD CONSTRAINT tbl_cars_license_plate_key UNIQUE (license_plate);


--
-- Name: tbl_cars tbl_cars_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.tbl_cars
    ADD CONSTRAINT tbl_cars_pkey PRIMARY KEY (id);


--
-- Name: tbl_group tbl_group_name_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.tbl_group
    ADD CONSTRAINT tbl_group_name_key UNIQUE (name);


--
-- Name: tbl_group tbl_group_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.tbl_group
    ADD CONSTRAINT tbl_group_pkey PRIMARY KEY (id);


--
-- Name: tbl_locations tbl_locations_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.tbl_locations
    ADD CONSTRAINT tbl_locations_pkey PRIMARY KEY (id);


--
-- Name: tbl_otp tbl_otp_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.tbl_otp
    ADD CONSTRAINT tbl_otp_pkey PRIMARY KEY (id);


--
-- Name: tbl_permission tbl_permission_name_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.tbl_permission
    ADD CONSTRAINT tbl_permission_name_key UNIQUE (name);


--
-- Name: tbl_permission tbl_permission_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.tbl_permission
    ADD CONSTRAINT tbl_permission_pkey PRIMARY KEY (id);


--
-- Name: tbl_reviews tbl_reviews_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.tbl_reviews
    ADD CONSTRAINT tbl_reviews_pkey PRIMARY KEY (id);


--
-- Name: tbl_role_has_permission tbl_role_has_permission_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.tbl_role_has_permission
    ADD CONSTRAINT tbl_role_has_permission_pkey PRIMARY KEY (id);


--
-- Name: tbl_role tbl_role_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.tbl_role
    ADD CONSTRAINT tbl_role_pkey PRIMARY KEY (id);


--
-- Name: tbl_role tbl_role_role_name_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.tbl_role
    ADD CONSTRAINT tbl_role_role_name_key UNIQUE (role_name);


--
-- Name: tbl_token tbl_token_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.tbl_token
    ADD CONSTRAINT tbl_token_pkey PRIMARY KEY (id);


--
-- Name: tbl_user tbl_user_email_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.tbl_user
    ADD CONSTRAINT tbl_user_email_key UNIQUE (email);


--
-- Name: tbl_user_has_group tbl_user_has_group_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.tbl_user_has_group
    ADD CONSTRAINT tbl_user_has_group_pkey PRIMARY KEY (id);


--
-- Name: tbl_user_has_role tbl_user_has_role_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.tbl_user_has_role
    ADD CONSTRAINT tbl_user_has_role_pkey PRIMARY KEY (id);


--
-- Name: tbl_user tbl_user_phone_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.tbl_user
    ADD CONSTRAINT tbl_user_phone_key UNIQUE (phone);


--
-- Name: tbl_user tbl_user_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.tbl_user
    ADD CONSTRAINT tbl_user_pkey PRIMARY KEY (id);


--
-- Name: tbl_user tbl_user_user_name_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.tbl_user
    ADD CONSTRAINT tbl_user_user_name_key UNIQUE (user_name);


--
-- Name: tbl_group fk_role; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.tbl_group
    ADD CONSTRAINT fk_role FOREIGN KEY (role_id) REFERENCES public.tbl_role(id) ON DELETE CASCADE;


--
-- Name: tbl_bookings tbl_bookings_car_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.tbl_bookings
    ADD CONSTRAINT tbl_bookings_car_id_fkey FOREIGN KEY (car_id) REFERENCES public.tbl_cars(id) ON DELETE CASCADE;


--
-- Name: tbl_bookings tbl_bookings_customer_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.tbl_bookings
    ADD CONSTRAINT tbl_bookings_customer_id_fkey FOREIGN KEY (customer_id) REFERENCES public.tbl_user(id) ON DELETE CASCADE;


--
-- Name: tbl_cars tbl_cars_location_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.tbl_cars
    ADD CONSTRAINT tbl_cars_location_id_fkey FOREIGN KEY (location_id) REFERENCES public.tbl_locations(id) ON DELETE SET NULL;


--
-- Name: tbl_cars tbl_cars_owner_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.tbl_cars
    ADD CONSTRAINT tbl_cars_owner_id_fkey FOREIGN KEY (owner_id) REFERENCES public.tbl_user(id) ON DELETE CASCADE;


--
-- Name: tbl_reviews tbl_reviews_booking_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.tbl_reviews
    ADD CONSTRAINT tbl_reviews_booking_id_fkey FOREIGN KEY (booking_id) REFERENCES public.tbl_bookings(id) ON DELETE CASCADE;


--
-- Name: tbl_role_has_permission tbl_role_has_permission_permission_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.tbl_role_has_permission
    ADD CONSTRAINT tbl_role_has_permission_permission_id_fkey FOREIGN KEY (permission_id) REFERENCES public.tbl_permission(id) ON DELETE CASCADE;


--
-- Name: tbl_role_has_permission tbl_role_has_permission_role_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.tbl_role_has_permission
    ADD CONSTRAINT tbl_role_has_permission_role_id_fkey FOREIGN KEY (role_id) REFERENCES public.tbl_role(id) ON DELETE CASCADE;


--
-- Name: tbl_user_has_group tbl_user_has_group_group_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.tbl_user_has_group
    ADD CONSTRAINT tbl_user_has_group_group_id_fkey FOREIGN KEY (group_id) REFERENCES public.tbl_group(id) ON DELETE CASCADE;


--
-- Name: tbl_user_has_group tbl_user_has_group_user_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.tbl_user_has_group
    ADD CONSTRAINT tbl_user_has_group_user_id_fkey FOREIGN KEY (user_id) REFERENCES public.tbl_user(id) ON DELETE CASCADE;


--
-- Name: tbl_user_has_role tbl_user_has_role_role_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.tbl_user_has_role
    ADD CONSTRAINT tbl_user_has_role_role_id_fkey FOREIGN KEY (role_id) REFERENCES public.tbl_role(id) ON DELETE CASCADE;


--
-- Name: tbl_user_has_role tbl_user_has_role_user_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.tbl_user_has_role
    ADD CONSTRAINT tbl_user_has_role_user_id_fkey FOREIGN KEY (user_id) REFERENCES public.tbl_user(id) ON DELETE CASCADE;


--
-- PostgreSQL database dump complete
--

\unrestrict ipL3HwFBqiooUg8mauZGEIY4Rb8bWPBc03OmwJnJtIFL0481oltGgSGLIWodZni

